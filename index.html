<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Industrial Attachment-To-Do List</title>
<style>
/* ------------------- Body Styling ------------------- */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f0f5f0;
    margin: 0;
    padding: 0;
}

/* ------------------- Container ------------------- */
.container {
    max-width: 1000px;
    margin: 40px auto;
    background-color: #ffffff;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
}

/* ------------------- Header ------------------- */
h1 {
    text-align: center;
    font-size: 1.8em;
    font-weight: 800;
    background: linear-gradient(90deg, #004d00, #85bbaf); /* two colors */
    background-size: 200% auto;
    color: #2e7ab8;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
     animation-delay: inherit;
}

/* ------------------- Form ------------------- */
form {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-top: 20px;
}

label {
    font-weight: bold;
    margin-bottom: 5px;
    display: block;
    color: #004d00;
}

input, select, textarea {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #004d00;
    border-radius: 8px;
    font-size: 14px;
    color: #004d00;
    box-sizing: border-box;
}

textarea {
    resize: vertical;
    height: 80px;
}

button {
    grid-column: span 2;
    padding: 12px;
    background-color: #004d00;
    color: white;
    font-weight: bold;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
    transition: 0.3s;
}

button:hover {
    background-color: #003300;
}

/* ------------------- Search & Task Count ------------------- */
.top-bar {
    display: flex;
    justify-content: space-between;
    margin-top: 25px;
    align-items: center;
    flex-wrap: wrap;
    gap: 15px;
}

#searchInput {
    padding: 10px;
    border: 1px solid #004d00;
    border-radius: 8px;
    font-size: 14px;
    flex: 1;
}

.task-count {
    font-weight: bold;
    color: #004d00;
    min-width: 120px;
    text-align: right;
}

/* ------------------- Table ------------------- */
.table-container {
    width: 100%;
    overflow-x: auto;
    margin-top: 20px;
    border-radius: 10px;
}

table {
    width: 100%;
    border-collapse: collapse;
    min-width: 900px;
}

th, td {
    padding: 12px;
    border-bottom: 1px solid #004d00;
    text-align: left;
    font-size: 14px;
}

th {
    background-color: #004d00;
    color: white;
    text-align: center;
}

td a {
    color: #004d00;
    font-weight: bold;
    text-decoration: none;
    margin-right: 5px;
}

td a:hover {
    text-decoration: underline;
}

.delete-btn, .edit-btn {
    border: none;
    padding: 5px 2px;
    border-radius: 5px;
    cursor: pointer;
    color: white;
    margin: right 12px;
    transition: 0.4s;
}

.delete-btn { background-color: #f44336; }
.delete-btn:hover { background-color: #d32f2f; }

.edit-btn { background-color: #1f806b; }
.edit-btn:hover { background-color: #0b7dda; }

.contact {
    margin-top: 25px;
    text-align: center;
    font-size: 14px;
    color: #004d00;
}

/* ------------------- Responsive ------------------- */
@media(max-width: 800px){
    form { grid-template-columns: 1fr; gap: 15px; }
    #searchInput { width: 100%; }
    table { font-size: 12px; }
    h1 { font-size: 1.5em; }
}
</style>
</head>
<body>

<div class="container">
    <!-- ------------------- Header ------------------- -->
    <h1>Welcome to SM High Tech!
Organize Your Industrial Tasks Efficiently</h1>

    <!-- ------------------- Form ------------------- -->
    <form id="todoForm">
        <div>
            <label for="date">Date</label>
            <input type="date" id="date" required>
        </div>
        <div>
            <label for="name">Name</label>
            <input type="text" id="name" placeholder="Your Name" required>
        </div>
        <div>
            <label for="roll">Roll</label>
            <input type="text" id="roll" placeholder="Roll Number" required>
        </div>
        <div>
            <label for="department">Department</label>
            <input type="text" id="department" placeholder="Department" required>
        </div>
        <div>
            <label for="classModule">Class Module</label>
            <input type="text" id="classModule" placeholder="Module Name" required>
        </div>
        <div>
            <label for="topic">Topic</label>
            <input type="text" id="topic" placeholder="Topic / Task" required>
        </div>
        <div>
            <label for="submitLink">Submit Link (URL)</label>
            <input type="url" id="submitLink" placeholder="https://yourprojectlink.com" required>
        </div>
        <div>
            <label for="contact">Contact</label>
            <input type="text" id="contact" placeholder="Email / Phone" required>
        </div>
        <button type="submit">Add / Update Task</button>
    </form>

    <!-- ------------------- Search & Task Count ------------------- -->
    <div class="top-bar">
        <input type="text" id="searchInput" placeholder="Search / Filter Tasks...">
        <div class="task-count">Total Tasks: <span id="taskCount">0</span></div>
    </div>

    <!-- ------------------- Table ------------------- -->
    <div class="table-container">
        <table id="todoTable">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Name</th>
                    <th>Roll</th>
                    <th>Department</th>
                    <th>Class Module</th>
                    <th>Topic</th>
                    <th>Submit Link</th>
                    <th>Contact</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- Tasks will appear here dynamically -->
            </tbody>
        </table>
    </div>

    <!-- ------------------- Footer ------------------- -->
    <div class="contact">
        Â© 2025 SM High Tech Industrial Attachment
    </div>
</div>

<script>
// ------------------- Select Elements -------------------
const form = document.getElementById('todoForm');
const tableBody = document.querySelector('#todoTable tbody');
const searchInput = document.getElementById('searchInput');
const taskCount = document.getElementById('taskCount');

let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
let editIndex = -1; // Track index of task being edited

displayTasks();

// ------------------- Form Submit -------------------
form.addEventListener('submit', function(e){
    e.preventDefault();

    const task = {
        date: document.getElementById('date').value,
        name: document.getElementById('name').value,
        roll: document.getElementById('roll').value,
        department: document.getElementById('department').value,
        classModule: document.getElementById('classModule').value,
        topic: document.getElementById('topic').value,
        submitLink: document.getElementById('submitLink').value,
        contact: document.getElementById('contact').value
    };

    if(editIndex === -1){
        // Add new task
        tasks.push(task);
    } else {
        // Update existing task
        tasks[editIndex] = task;
        editIndex = -1;
    }

    localStorage.setItem('tasks', JSON.stringify(tasks));
    displayTasks(searchInput.value);
    form.reset();
});

// ------------------- Display Tasks -------------------
function displayTasks(filter=''){
    tableBody.innerHTML = '';
    const filteredTasks = tasks.filter(task => {
        return Object.values(task).join(' ').toLowerCase().includes(filter.toLowerCase());
    });

    filteredTasks.forEach((task, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${task.date}</td>
            <td>${task.name}</td>
            <td>${task.roll}</td>
            <td>${task.department}</td>
            <td>${task.classModule}</td>
            <td>${task.topic}</td>
            <td><a href="${task.submitLink}" target="_blank">Open</a></td>
            <td>${task.contact}</td>
            <td>
                <button class="edit-btn" onclick="editTask(${index})">Edit</button>
                <button class="delete-btn" onclick="deleteTask(${index})">Delete</button>
            </td>
        `;
        tableBody.appendChild(row);
    });

    taskCount.textContent = filteredTasks.length;
}

// ------------------- Delete Task -------------------
function deleteTask(index){
    if(confirm("Are you sure you want to delete this task?")){
        tasks.splice(index, 1);
        localStorage.setItem('tasks', JSON.stringify(tasks));
        displayTasks(searchInput.value);
    }
}

// ------------------- Edit Task -------------------
function editTask(index){
    const task = tasks[index];
    document.getElementById('date').value = task.date;
    document.getElementById('name').value = task.name;
    document.getElementById('roll').value = task.roll;
    document.getElementById('department').value = task.department;
    document.getElementById('classModule').value = task.classModule;
    document.getElementById('topic').value = task.topic;
    document.getElementById('submitLink').value = task.submitLink;
    document.getElementById('contact').value = task.contact;

    editIndex = index; // Set index for update
}

// ------------------- Real-time Search -------------------
searchInput.addEventListener('input', function(){
    displayTasks(this.value);
});
</script>
</body>
</html>
